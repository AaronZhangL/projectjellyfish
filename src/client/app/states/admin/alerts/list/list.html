<content-header short="true">
    <div class="admin-alerts-list__body">
        <span class="content-header__title">Alerts</span>
    </div>
    <div class="admin-alerts-list__aside">
        <a ui-sref="admin.alerts.create" class="btn-rounded">Add New Alert</a>
    </div>
</content-header>
<div class="alerts-table">
    <table st-table="vm.alerts" class="alerts-table table-hover">
        <thead>
        <tr>
            <th class="alerts-table__heading alerts-table__heading--padding"></th>
            <th class="alerts-table__heading alerts-table__heading--sortable" st-sort="alert-id">Alert Id</th>
            <th class="alerts-table__heading alerts-table__heading--sortable" st-sort="project_id">Project</th>
            <th class="alerts-table__heading alerts-table__heading--status" st-sort="status">Status</th>
            <th class="alerts-table__heading" st-sort="message">Message</th>
            <th class="alerts-table__heading alerts-table__heading--sortable" st-sort="start_date">Start Date</th>
            <th class="alerts-table__heading alerts-table__heading--sortable" st-sort="end_date">End Date</th>
            <th class="alerts-table__heading alerts-table__heading--actions">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr class="alerts-table__row" ng-repeat="row in vm.alerts">
            <td class="alerts-table__cell alerts-table__cell--padding"></td>
            <td class="alerts-table__cell alerts-table__cell--alert-id">{{ ::row.id }}</td>
            <td class="alerts-table__cell alerts-table__cell--project-id">{{ ::row.project_id }}</td>
            <td class="alerts-table__cell alerts-table__cell--status">
              <status type="{{ ::row.status }}">{{ ::row.status }}</status>
            </td>
            <td class="alerts-table__cell alerts-table__cell--message">{{ ::row.message }}</td>
            <td class="alerts-table__cell alerts-table__cell--start-date">{{ ::row.start_date | date:'short' }}</td>
            <td class="alerts-table__cell alerts-table__cell--end-date">{{ ::row.end_date | date:'short' }}</td>
            <td class="alerts-table__cell alerts-table__cell--actions">
                <a ui-sref="admin.alerts.create({id: row.id})" class="alerts-table__action alerts-table__action--edit">
                    <img src="/images/ic_edit.png" alt="Edit"/>
                </a>
                <a href="#" class="alerts-table__action alerts-table__action--delete"
                   confirmation
                   confirmation-position="left-center"
                   confirmation-message="Are you sure you want to remove this alert and it's content?"
                   confirmation-ok-style="danger"
                   confirmation-ok-text="Yes, Delete It"
                   confirmation-on-ok="vm.deleteAlert($index)"
                   confirmation-show-cancel="false">
                    <img src="/images/ic_deletequestion.png" alt="Delete"/>
                </a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
