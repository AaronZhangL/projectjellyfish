%h1.title.is-4 Service Approvals

.columns
  .column
    %reload-button(reload="$ctrl.reload()" reloading="$ctrl.reloading")

%div(ng-if="$ctrl.serviceRequests.length")
  .card.is-fullwidth
    %service-requests(service-requests="$ctrl.serviceRequests" on-edit="$ctrl.onApprove($event)")
  %div(ng-if="$ctrl.serviceRequests.meta().total_pages > 1")
    %hr
    %pagination(pagination="$ctrl.serviceRequests.meta()" on-change-page="$ctrl.changePage($event)")

.message.is-info(ng-if="$ctrl.serviceRequests.length == 0")
  .message-body There are no requests.

%service-approval-modal(ng-if="$ctrl.selectedRequest" service-request="$ctrl.selectedRequest" on-approve="$ctrl.withApproval($event)" on-deny="$ctrl.withApproval($event)" on-cancel="$ctrl.selectedRequest = null;")
